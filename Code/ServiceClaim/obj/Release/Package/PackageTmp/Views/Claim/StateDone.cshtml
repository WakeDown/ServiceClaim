
@using ServiceClaim.Models
@using ServiceClaim.Objects
@model ServiceClaim.Models.Claim

@{
    var servSheetList = Model.GetClaimServiceSheetList();
}


    <div class="row">
        <div class="col-lg-push-2 col-lg-10">
            <a id="selectServiceList" class="btn btn-success" data-toggle="modal" data-target="#modalselectServiceList">Получен бумажный сервисный лист</a>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-push-2 col-lg-10">
            <p class="text-danger">@TempData["error"]</p>
        </div>
    </div>
<div id="modalselectServiceList" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Выберите сервисный лист</h4>
            </div>
            <div class="modal-body">
                
                    @foreach (var sheet in servSheetList)
                    {
                        
                            <div class="row service-sheet-item">
                                    <div class="col-lg-8">
                                        <h3>№@sheet.Id</h3>
                                        <div>
                                            @sheet.DateCreate.ToString("dd.MM.yyyy HH:mm")
                                        </div>
                                        <div>
                                            @sheet.WorkType.Name
                                        </div>
                                        <div>
                                            @sheet.Engeneer.DisplayName
                                        </div>
                                    </div>
                                <div class="col-lg-4">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <a name="pay" class="btn btn-success btn-lg ss-pay-btn" ssid="@sheet.Id">Оплачивать</a>
                                        </div>
                                        <div class="col-lg-12">
                                            <a name="notpay" class="btn btn-danger btn-lg ss-pay-btn" ssid="@sheet.Id">Не оплачивать</a>
                                        </div>
                                    </div>
                                </div>
                                </div>
                        
                    }
                        
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-default" value="ClaimWorkCancel" name="ClaimWorkCancel">Сохранить</button>
            </div>
        </div>
    </div>
</div>
@*@using (Html.BeginForm("StateDone", "Claim", FormMethod.Post, new { @id = "ConfirmWorkForm", @class = "form-horizontal", data_toggle = "validator", role = "form" }))
{
    @Html.HiddenFor(m => m.Id)
}*@

<script type="text/javascript">
    $(function() {
        $('[name="pay"]').click(function() {
            var ssid = $(this).attr('ssid');
            $('modalselectServiceList').modal({ show: false });
            $.ajax(function() {

            });
        });

        $('[name="notpay"]').click(function () {
            var ssid = $(this).attr('ssid');
            $('modalselectServiceList').modal({ show: false });
            $.ajax(function () {

            });
        });
    });
</script>
