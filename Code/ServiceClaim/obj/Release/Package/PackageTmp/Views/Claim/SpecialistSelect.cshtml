
@using ServiceClaim.Models
@using ServiceClaim.Objects
@model ServiceClaim.Models.Claim

@using (Html.BeginForm("SpecialistSelect", "Claim", FormMethod.Post, new { @id = "SpecialistSelectForm", @class = "form-horizontal", role = "form" }))
{
    @*<p>
            @Html.DropDownListFor(m=>m.WorkType, WorkType.GetSelectionList())
        </p>*@
    @Html.HiddenFor(m => m.Id)
    <div class="row">
        <label class="col-lg-2 text-right">Специалист</label>
        <div class="col-lg-6">
            @Html.DropDownListFor(m => m.SpecialistSid, Model.GetCurrentClaimSpecialistSelectionList(), "--выберите специалиста--", new {@class = "form-control required-mark", required = "required", data_error = "Выберите специалиста"})
            <span class="help-block with-errors"></span>
        </div>
    </div>
    <div class="row">
        <label class="col-lg-2 text-right">Дата выезда</label>
        <div class="col-lg-2">
            @Html.TextBoxFor(m => m.ServiceIssue4Save.DatePlan, "{0:dd.MM.yyyy}", new {id="datePlan", @class = "form-control required-mark", required = "required", data_error = "Выберите дату выезда"})
            <span class="help-block with-errors"></span>
        </div>
    </div>
    <div class="row">
        <label class="col-lg-2 text-right">Комментарий</label>
        <div class="col-lg-8">
            @Html.TextAreaFor(m => m.Descr, new { @class = "form-control", rows="3" })
            <span class="help-block with-errors"></span>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-push-2 col-lg-10">
            <button type="submit" class="btn btn-success">Назначить</button>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-push-2 col-lg-10">
            <p class="text-danger">@TempData["error"]</p>
        </div>
    </div>
}

<script type="text/javascript">
    $(function() {
        $('#datePlan').datepicker({
            format: "dd.mm.yyyy",
            autoclose: true,
            todayBtn: "linked",
            language: "ru"
            ,startDate: '@DateTime.Now.ToShortDateString()'
        });
    });
</script>